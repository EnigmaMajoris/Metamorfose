"0",""
"0","# Selecionar as músicas"
"0","raul_nrc <- raul_sentiment |>"
"0","  inner_join(get_sentiments(""nrc""), by = ""word"") |>"
"0","  filter(!sentiment %in% c(""positive"", ""negative"")) "
"2","Warning: Detected an unexpected many-to-many relationship between `x` and `y`."
"0","# Criar Mapa de Sentimento"
"0","sentiment_nrc <- raul_nrc |>"
"0","  group_by(nome, sentiment) |>"
"0","  count(nome, sentiment) |>"
"0","  select(nome, sentiment, sentiment_total = n)"
"0",""
"0","nome_nrc <- raul_nrc |>"
"0","  count(nome) |>"
"0","  select(nome, nome_total = n)"
"0",""
"0","mapa <- sentiment_nrc |> "
"0","  inner_join(nome_nrc, by = ""nome"") |>"
"0","  mutate(percent = round((sentiment_total/nome_total * 100), 3)) |>"
"0","  select(-sentiment_total, -nome_total) |>"
"0","  spread(nome, percent)"
"0",""
"0","# Transformar o arquivo em um dataframe "
"0","mapa_df <- as.data.frame(t(mapa[, -1]))"
"0",""
"0","# Atribuir ao nome das variáveis as linhas da coluna sentiment da tabela mapa "
"0","colnames(mapa_df) <- mapa$sentiment"
"0",""
"0","# Substituir os valores NA por zero"
"0","mapa_df[is.na(mapa_df)] <- 0"
"0",""
"0","# Definir valores maxímo e mínimo e, vincular as variáveis novas ao dataframe mapa_df"
"0","max_min <- data.frame("
"0","  anticipation = c(40, 0),"
"0","  sadness = c(40, 0),"
"0","  anger = c(40, 0), "
"0","  disgust = c(40, 0),"
"0","  fear = c(40, 0),"
"0","  trust = c(40, 0),"
"0","  joy = c(40, 0),"
"0","  surprise = c(40, 0))"
"0","rownames(max_min) <- c(""Max"", ""Min"")"
"0","mapa_df <- rbind(max_min, mapa_df)"
"0",""
